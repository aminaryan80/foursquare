# foursquare
در این پروژه قصد داریم یک ثبت نام و لاگین برای نرم افزار معرفی رستوران خود بسازیم. این پروژه را با فریمورک جنگو پیش می‌بریم.

# روال انجام آزمایش
ابتدا یک مخزن جدید در github می‌سازیم و تیک اضافه شدن فایل README.md را می‌زنیم. سپس پروژه را در سیستم خود با دستور زیر کلون می‌کنیم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/9b2b03ff-502a-4d45-a65e-a4249f1b073c)

سپس شاخه main پروژه را در حالت محافظت‌شده قرار می‌دهیم. برای این کار در Settings پروژه، روی بخش branches کلیک می‌کنیم و در اینجا تنظیمات مربوط به شاخه main را به شکل زیر اضافه می‌کنیم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/11f2be22-13aa-499f-83b7-f92c274c7d7d)

به این ترتیب امکان پوش کردن به صورت مستقیم روی این برنچ وجود ندارد.

حال پروژه خود را ایجاد می‌کنیم. همانطور که قبلا گفته شد، این پروژه با فریمورک جنگو نوشته می‌شود بنابراین کارهای لازم برای شروع پروژه را انجام می‌دهیم و بعد روی برنچ dev پوش می‌کنیم و در ادامه با استفاده از پول ریکوئست، آن را با برنچ main مرج می‌کنیم.
با این دستور برنچ جدید را به صورت Local می‌سازیم و به آن منتقل می‌شویم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/e86b6dcf-a985-45a6-9911-07ed72f0e2ef)

بعد از پوش کردن اولین کامیت در dev، لینک ساخت پول ریکوئست به ما نمایش داده می‌شود:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/824cd51d-ba72-413b-8965-cc5ebd4834fd)

با استفاده از همین لینک، پول ریکوئست را می‌سازیم و آن را با main مرج می‌کنیم.
همچنین یک فایل .gitignore نیز در همین کامیت ساخته‌ایم که می‌توانید محتویات آن را مشاهده کنید.

حال از این به بعد، برای توسعه یک feature جدید، از برنچ dev شاخه می‌گیریم و روی آن توسعه را جلو می‌بریم. سپس این شاخه‌ها را با برنچ dev مرج می‌کنیم و در نهایت برنچ dev را با برنچ main مرج می‌کنیم.

برای توسعه لاگین و ثبت نام، دو برنچ feat/login و feat/register ایجاد می‌کنیم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/0ad34798-3daf-436d-8242-fa67ed540074)

بعد از تمام شدن کار توسعه این feature ها که به صورت همزمان روی آن‌ها کار شده است، می‌خواهیم آن‌ها را در برنچ dev مرج کنیم. ابتدا برنچ feat/register را مرج می‌کنیم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/e75f4245-e724-4f63-8d10-9b6c67cf3c61)
![image](https://github.com/aminaryan80/foursquare/assets/59232424/42729e16-3aa4-453f-9cc6-e1aeb0f1145d)

همانطور که مشاهده می‌شود برنچ feat/register بدون مشکلی مرج شده است. حال به سراغ برنچ feat/login می‌رویم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/8263b78f-136e-48de-b549-cb90ad27653a)

مشاهده می‌شود که دو conflict وجود دارد. برای حل این کانفلیکت‌ها روی گزینه resolve conflicts کلیک می‌کنیم.

مورد اول که مربوط به فایل migration دیتابیس است، مشکل این است که دو فایل با محتوای یکسان در زمان‌های مختلف ساخته شده اند و به این ترتیب خط اول آن‌ها تفاوت دارد:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/81fd4611-e670-4cac-88fd-c441527f198a)

به این شکل خط اول را تغییر می‌دهیم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/c26913b5-9f2d-42ff-b62d-68f205ea5cce)

حال روی mark as resolved کلیک می‌کنیم تا این مورد برطرف شود.

مورد دوم کانفلیکت مربوط به فایل urls.py در فولدر account است. این کانفلیکت به این دلیل به وجود آمده است که هر دو برنچ‌های feat/login و feat/register یک خط جدید به آن اضافه کرده‌اند و ما در محصول نهایی به هر دوی آن‌ها نیاز داریم. بنابراین هر دوی آن‌ها را در کنار هم قرار می‌دهیم و روی گزینه mark as resolved کلیک می‌کنیم.

![image](https://github.com/aminaryan80/foursquare/assets/59232424/0b1c5d7b-af2e-47c3-aed5-d63a1726dbc6)
![image](https://github.com/aminaryan80/foursquare/assets/59232424/85f973e5-08e5-4cc7-a1a6-02df9ef5e54b)

در نهایت روی گزینه commit merge کلیک می‌کنیم:

![image](https://github.com/aminaryan80/foursquare/assets/59232424/4f69c09e-c86e-4904-9009-3646ca32c76d)

## جمع‌بندی

در آخر بعد از تمام شدن کار پروژه، برای ریلیز نسخه جدید، برنچ dev را با main مرج می‌کنیم و روی main قرار می‌دهیم. به این صورت که یک پول ریکوئست از dev به main می‌سازیم و آن را مرج می‌کنیم.



